<html lang="en">

  <!-- Mirrored from smartshop.websitelayout.net/admin/orders.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 03 Jan 2023 16:01:00 GMT -->
  <head>
    <!-- metas -->
    <meta charset="utf-8" />
    <meta name="author" content="Chitrakoot Web" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="keywords" content="admin,dashboard" />
    <meta
      name="description"
      content="Smartshop - Responsive eCommerce Admin Dashboard"
    />

    <!-- title  -->
    <title>Smartshop - Responsive eCommerce Admin Dashboard</title>

    <!-- favicon -->
    <link rel="shortcut icon" href="img/logos/favicon.png" />
    <link rel="apple-touch-icon" href="img/logos/apple-touch-icon-57x57.png" />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="img/logos/apple-touch-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="img/logos/apple-touch-icon-114x114.png"
    />

    <!-- common /pluginsNA -->
    <link rel="stylesheet" href="/pluginsNA/bootstrap/css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="/pluginsNA/font-awesome/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="/pluginsNA/icomoon/style.css" />
    <link rel="stylesheet" href="/pluginsNA/uniform/css/default.css" />
    <link rel="stylesheet" href="/pluginsNA/switchery/switchery.min.css" />

     <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.0.1/css/buttons.dataTables.min.css">

    <!-- theme core css -->
    <link rel="stylesheet" href="/cssNA/styles.css" />
    <style>
      .colored-toast.swal2-icon-success {
        background-color: #a5dc86 !important;
      }
    </style>
    

  </head>

  <body>

    <!-- PAGE LOADING
    ================================================== -->
    <div id="preloader"></div>

    <!-- PAGE CONTAINER
    ================================================== -->
    <div class="page-container">

      <!-- PAGE SIDEBAR
        ================================================== -->
      <div class="page-sidebar">
            <a class="logo-box" href="">
                <img src="/imgNA/logos/logo-footer.png" alt="...">
                <i class="icon-radio_button_unchecked" id="fixed-sidebar-toggle-button"></i>
                <i class="icon-close" id="sidebar-toggle-button-close"></i>
            </a>
            <div class="page-sidebar-inner">
                <div class="page-sidebar-menu">
                    <ul class="accordion-menu">
                        <li>
                            <a href="/admin"> <i class="menu-icon icon-home4"></i><span>Dashboard</span> </a>
                        </li>
                        <li>
                            <a href="">
                                <i class="menu-icon icon-inbox"></i><span>Category</span><i class="accordion-icon fa fa-angle-left"></i>
                            </a>
                            <ul>
                                <li><a href="/admin/categories">Categories</a></li>
                                <li><a href="/admin/category">Add Categories</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="">
                                <i class="menu-icon icon-layers"></i><span>Products</span><i class="accordion-icon fa fa-angle-left"></i>
                            </a>
                            <ul>
                                <li><a href='/admin/products/all'>Products</a></li>
                                {{!-- <li><a href="/admin/product-details">Product Details</a></li> --}}
                                {{!-- <li><a href="#">Product Cart</a></li> --}}
                                <li><a href="/admin/product">Add Products</a></li>
                            </ul>
                        </li>
                       <li>
                <a href="/admin/orders">
                  <i class="menu-icon icon-flash_on"></i><span>Orders</span>
                </a>
                
              </li>
                        <li>
                            <a href="/admin/users"> <i class="menu-icon icon-code"></i><span>Customers</span></a>
                        </li>
                        <li>
                            <a href="#">
                                <i class="menu-icon icon-format_list_bulleted"></i><span>Coupons</span><i class="accordion-icon fa fa-angle-left"></i>
                            </a>
                            <ul>
                                <li><a href="/admin/coupons">Coupons</a></li>
                                <li><a href="/admin/coupon">Create Coupons</a></li>
                            </ul>
                        </li>
                         <li>
                            <a href="/admin/sales-reports">
                                <i class="menu-icon icon-settings"></i><span>Business Report</span>
                            </a>
                        </li>
                        <li>
                            <a href="/admin/banners">
                                <i class="menu-icon icon-inbox"></i><span>Banners</span>
                            </a>
                        </li>
                        <li class="menu-divider"></li>
                        <li><form action="/admin/logout">
                          <a class="btn btn-outline-secondary" onclick="logoutAdmin()" ><i class="menu-icon icon-public"></i><span>Logout</span></a>
                        </li></form>
                    </ul>
                </div>
            </div>
        </div>

      <!-- PAGE CONTENT
        ================================================== -->
      <div class="page-content">

        <!-- PAGE HEADER
            ================================================== -->
        <div class="page-header">
          <div class="search-form">
            <form action="#" method="GET">
              <div class="input-group">
                <input
                  type="text"
                  name="search"
                  class="form-control search-input"
                  placeholder="Type something..."
                />
                <span class="input-group-btn">
                  <button
                    class="btn btn-default"
                    id="close-search"
                    type="button"
                  ><i class="icon-close"></i></button>
                </span>
              </div>
            </form>
          </div>
          <nav class="navbar navbar-default">
            <div class="container-fluid">
              <!-- Brand and toggle get grouped for better mobile display -->
              <div class="navbar-header">
                <div class="logo-sm">
                  <a href="#" id="sidebar-toggle-button"><i
                      class="fa fa-bars"
                    ></i></a>
                  <a class="logo-box" href="index.html"><img
                      src="../img/logos/logo.png"
                      class="logo"
                      alt="..."
                    /></a>
                </div>
                <button
                  type="button"
                  class="navbar-toggle collapsed"
                  data-bs-toggle="collapse"
                  data-bs-target="#bs-example-navbar-collapse-1"
                  aria-expanded="false"
                >
                  <i class="fa fa-angle-down"></i>
                </button>
              </div>

              <!-- Collect the nav links, forms, and other content for toggling -->

              <div
                class="collapse navbar-collapse"
                id="bs-example-navbar-collapse-1"
              >
                <ul class="nav navbar-nav">
                  <li><a href="#" id="collapsed-sidebar-toggle-button"><i
                        class="fa fa-bars"
                      ></i></a></li>
                  <li><a href="#" id="toggle-fullscreen"><i
                        class="fa fa-expand"
                      ></i></a></li>
                  <li><a href="#" id="search-button"><i
                        class="fa fa-search"
                      ></i></a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                  <li><a
                      href="#"
                      class="right-sidebar-toggle"
                      data-sidebar-id="main-right-sidebar"
                    ><i class="fa fa-envelope"></i></a></li>
                  <li class="dropdown">
                    <a
                      href="#"
                      class="dropdown-toggle"
                      data-bs-toggle="dropdown"
                      role="button"
                      aria-haspopup="true"
                      aria-expanded="false"
                    ><i class="fa fa-bell"></i></a>
                    <ul class="dropdown-menu dropdown-lg dropdown-content">
                      <li class="drop-title">Notifications<a
                          href="#"
                          class="drop-title-link"
                        ><i class="fa fa-angle-right"></i></a></li>
                      <li class="slimscroll dropdown-notifications">
                        <ul class="list-unstyled dropdown-oc">
                          <li>
                            <a href="#"><span
                                class="notification-badge bg-primary"
                              ><i class="far fa-image"></i></span>
                              <span class="notification-info">Finished uploading
                                photos to gallery
                                <b>"South Africa"</b>.
                                <small class="notification-date">20:00</small>
                              </span></a>
                          </li>
                          <li>
                            <a href="#"><span
                                class="notification-badge bg-primary"
                              ><i class="fa fa-at"></i></span>
                              <span class="notification-info"><b>John Doe</b>
                                mentioned you in a post "Update v1.5".
                                <small class="notification-date">06:07</small>
                              </span></a>
                          </li>
                          <li>
                            <a href="#"><span
                                class="notification-badge bg-danger"
                              ><i class="fa fa-bolt"></i></span>
                              <span class="notification-info">4 new special
                                offers from the apps you follow!
                                <small
                                  class="notification-date"
                                >Yesterday</small>
                              </span></a>
                          </li>
                          <li>
                            <a href="#"><span
                                class="notification-badge bg-success"
                              ><i class="fa fa-bullhorn"></i></span>
                              <span class="notification-info">There is a meeting
                                with
                                <b>Ethan</b>
                                in 15 minutes!
                                <small
                                  class="notification-date"
                                >Yesterday</small>
                              </span></a>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                  <li class="dropdown user-dropdown">
                    <a
                      href="#"
                      class="dropdown-toggle"
                      data-bs-toggle="dropdown"
                      role="button"
                      aria-haspopup="true"
                      aria-expanded="false"
                    ><img
                        src="img/avatars/user-dropdown.jpg"
                        alt="..."
                        class="rounded-circle"
                      /></a>
                    <ul class="dropdown-menu">
                      <li><a href="#">Profile</a></li>
                      <li><a href="#">Calendar</a></li>
                      <li><a href="#"><span
                            class="badge float-end badge-danger"
                          >42</span>Messages</a></li>
                      <li role="separator" class="divider"></li>
                      <li><a href="#">Account Settings</a></li>
                      <li><a href="#">Log Out</a></li>
                    </ul>
                  </li>
                </ul>
              </div>
              <!-- /.navbar-collapse -->
            </div>
            <!-- /.container-fluid -->
          </nav>
        </div>

        <!-- PAGE INNER
            ================================================== -->
        <div class="page-inner">

          <!-- PAGE MAIN WRAPPER
                ================================================== -->
          <div id="main-wrapper">
            <!-- row -->
            <div class="row align-items-center grid-margin">
              <div class="col-12">
                <div class="card card-white">
                  <div class="card-body row align-items-center">
                    <div class="col-12 col-md-4 mb-4 mb-md-0">
                      <h4 class="mb-0">Orders</h4>
                    </div>

                    <div class="col-12 col-md-8">
                      <div class="row">
                        <div class="col-md-3 mb-3 mb-md-0">
                          <select class="form-control form-select" id="searchdata" name="status" onchange="searchstatus('status')">
                            <option value="All">All orders</option>
                            <option value="Confirmed">Confirmed</option>
                            <option value="Processing">Processing</option>
                            <option value="Shipped">Shipped</option>
                            <option value="Delivered">Delivered</option>
                            <option value="Returned">Returned</option>
                            <option value="Canceled">Canceled</option>
                          </select>
                        </div>

                        <div class="col-md-3 mb-3 mb-md-0">
                          <select class="form-control form-select" id="searchbydays" name="days" onchange="searchstatus('days')">
                            <option value="All">All orders</option>
                            <option value="7">Last 7 Orders</option>
                            <option value="15">Last 15 Orders</option>
                            <option value="30">Last 30 Orders</option>
                          </select>
                        </div>

                        <div class="col-md-6">
                          <input
                            type="text"
                            class="form-control"
                            id="exampleInputEmail1"
                            aria-describedby="exampleInputEmail1"
                            placeholder="search by name"
                            onkeyup="searchstatus('name')"
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- end row -->

            <!-- row -->
            <div class="row">
              <div class="col-lg-12 col-md-12 grid-margin">
                <div class="card card-white h-100">
                  <div class="card-heading clearfix">
                    <h4 class="card-title">Latest Transaction</h4>
                  </div>
                  <div class="card-body">
                    <div class="table-responsive">
                      <table class="table mb-0" id="example">
                        <thead class="bg-light">
                          <tr>
                            <th>Order ID</th>
                            <th>Billing Name</th>
                            <th>Date</th>
                            <th>Total</th>
                            <th>Payment Status</th>
                            <th>Payment Method</th>
                            <th>View Details</th>
                            <th>Action</th>
                          </tr>
                        </thead>
                        <tbody id="searchOrdersList">
                          {{#each ordersList}}
                            <tr id="statusediter{{this._id}}">

                              <td><a href="#">{{this.orderID}}</a> </td>
                              <td>{{this.user.name}}</td>
                              <td>
                                {{formatDate this.date}}
                              </td>
                              <td>
                                ${{this.total}}
                              </td>
                              <td id="paymentediter{{this._id}}">
                                {{#equal this.paymentDetails.status "COMPLETED"}}
                                  <span
                                    class="badge rounded-pill bg-soft-green"
                                  >{{this.paymentDetails.status}}</span>
                                {{/equal}}
                                {{#equal this.paymentDetails.status "REFUND" }}
                                  <span
                                    class="badge rounded-pill bg-soft-pink"
                                  >{{this.paymentDetails.status}}</span>
                                {{/equal}}
                                {{#equal this.paymentDetails.status "PENDING"}}
                                  <span
                                    class="badge rounded-pill bg-soft-orange"
                                  >{{this.paymentDetails.status}}</span>
                                {{/equal}}
                              </td>
                              <td>
                                {{#equal this.paymentMethod "onlinepayment"}}
                                  <i
                                    class="fab fa-cc-mastercard me-1 text-primary"
                                  ></i>&nbsp;&nbsp;Paypal
                                {{else}}
                                  <i
                                    class="fa-solid fa-sack-dollar text-warning"
                                  ></i>&nbsp;&nbsp;COD
                                {{/equal}}
                              </td>
                              <td>
                                <!-- Button trigger modal -->
                                
                                {{#equal this.status "Confirmed"}}
                                  <button
                                    type="button"
                                    class="btn btn-outline-info btn-rounded"
                                    data-bs-toggle="modal"
                                    data-bs-target="#exampleModal"
                                    onclick="statusfinder('{{this._id}}','{{this.status}}','{{this.paymentDetails.status}}')"
                                  >
                                    {{this.status}}&nbsp&nbsp;<i class="fa-solid fa-angle-down"></i>
                                  </button>
                                {{/equal}}
                                {{#equal this.status "Processing"}}
                                  <button
                                    type="button"
                                    class="btn btn-outline-primary btn-rounded"
                                    data-bs-toggle="modal"
                                    data-bs-target="#exampleModal"
                                    onclick="statusfinder('{{this._id}}','{{this.status}}','{{this.paymentDetails.status}}')"
                                  >
                                    {{this.status}}&nbsp&nbsp;<i class="fa-solid fa-angle-down"></i>
                                  </button>
                                {{/equal}}
                                {{#equal this.status "Shipped"}}
                                  <button
                                    type="button"
                                    class="btn btn-outline-warning btn-rounded"
                                    data-bs-toggle="modal"
                                    data-bs-target="#exampleModal"
                                    onclick="statusfinder('{{this._id}}','{{this.status}}','{{this.paymentDetails.status}}')"
                                  >
                                    {{this.status}}&nbsp&nbsp;<i class="fa-solid fa-angle-down"></i>
                                  </button>
                                {{/equal}}
                                {{#equal this.status "Delivered"}}
                                  <button
                                    type="button"
                                    class="btn btn-outline-success btn-rounded"
                                    data-bs-toggle="modal"
                                    data-bs-target="#exampleModal"
                                    onclick="statusfinder('{{this._id}}','{{this.status}}','{{this.paymentDetails.status}}')"
                                  >
                                    {{this.status}}&nbsp&nbsp;<i class="fa-solid fa-angle-down"></i>
                                  </button>
                                {{/equal}}
                                {{#equal this.status "Canceled"}}
                                  <button
                                    type="button"
                                    class="btn btn-outline-danger btn-rounded"
                                    data-bs-toggle=""
                                    data-bs-target=""
                                  >
                                    {{this.status}}
                                  </button>
                                {{/equal}}
                                {{#equal this.status "Returned"}}
                                  <button
                                    type="button"
                                    class="btn btn-outline-secondary btn-rounded"
                                    data-bs-toggle="modal"
                                    data-bs-target="#exampleModal"
                                    onclick="statusfinder('{{this._id}}','{{this.status}}','{{this.paymentDetails.status}}')"
                                  >
                                    {{this.status}}&nbsp&nbsp;<i class="fa-solid fa-angle-down"></i>
                                  </button>
                                {{/equal}}
                                <!-- Modal -->
                                
                              </td>
                              <td>
                                <a
                                  href="/admin/order?id={{this._id}}"
                                  class="me-3 text-info"
                                >View details<i
                                    class="far fa-edit text-white"
                                  ></i></a>
                              </td>
                            </tr>
                          {{/each}}
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- end row -->
          </div>
        </div>

        <!-- PAGE MAIN RIGHT SIDEBAR
            ================================================== -->
        <div class="page-right-sidebar" id="main-right-sidebar">
          <div class="page-right-sidebar-inner">
            <div class="right-sidebar-top">
              <div class="right-sidebar-tabs">
                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist">
                  <li role="presentation" class="active" id="chat-tab"><a
                      href="#chat"
                      aria-controls="chat"
                      role="tab"
                      data-bs-toggle="tab"
                    >chat</a></li>
                  <li role="presentation" id="settings-tab"><a
                      href="#settings"
                      aria-controls="settings"
                      role="tab"
                      data-bs-toggle="tab"
                    >settings</a></li>
                </ul>
              </div>
              <a
                href="#"
                class="right-sidebar-toggle right-sidebar-close"
                data-sidebar-id="main-right-sidebar"
              ><i class="icon-close"></i></a>
            </div>
            <div class="right-sidebar-content">
              <!-- start tab panes -->
              <div class="tab-content">
                <div class="tab-pane active" id="chat">
                  <div class="chat-list">
                    <span class="chat-title">Recent</span>
                    <a
                      href="#"
                      class="right-sidebar-toggle chat-item unread"
                      data-sidebar-id="chat-right-sidebar"
                    >
                      <div class="user-avatar">
                        <img src="img/avatars/chat01.jpg" alt="..." />
                      </div>
                      <div class="chat-info">
                        <span class="chat-author">David</span>
                        <span class="chat-text">where u at?</span>
                        <span class="chat-time">08:50</span>
                      </div>
                    </a>
                    <a
                      href="#"
                      class="right-sidebar-toggle chat-item unread active-user"
                      data-sidebar-id="chat-right-sidebar"
                    >
                      <div class="user-avatar">
                        <img src="img/avatars/chat02.jpg" alt="..." />
                      </div>
                      <div class="chat-info">
                        <span class="chat-author">Daisy</span>
                        <span class="chat-text">Daisy sent a photo.</span>
                        <span class="chat-time">11:34</span>
                      </div>
                    </a>
                  </div>
                  <div class="chat-list">
                    <span class="chat-title">Older</span>
                    <a
                      href="#"
                      class="right-sidebar-toggle chat-item"
                      data-sidebar-id="chat-right-sidebar"
                    >
                      <div class="user-avatar">
                        <img src="img/avatars/chat03.jpg" alt="..." />
                      </div>
                      <div class="chat-info">
                        <span class="chat-author">Tom</span>
                        <span class="chat-text">You: ok</span>
                        <span class="chat-time">2d</span>
                      </div>
                    </a>
                    <a
                      href="#"
                      class="right-sidebar-toggle chat-item active-user"
                      data-sidebar-id="chat-right-sidebar"
                    >
                      <div class="user-avatar">
                        <img src="img/avatars/chat04.jpg" alt="..." />
                      </div>
                      <div class="chat-info">
                        <span class="chat-author">Anna</span>
                        <span class="chat-text">asdasdasd</span>
                        <span class="chat-time">4d</span>
                      </div>
                    </a>
                    <a
                      href="#"
                      class="right-sidebar-toggle chat-item active-user"
                      data-sidebar-id="chat-right-sidebar"
                    >
                      <div class="user-avatar">
                        <img src="img/avatars/chat05.jpg" alt="..." />
                      </div>
                      <div class="chat-info">
                        <span class="chat-author">Liza</span>
                        <span class="chat-text">asdasdasd</span>
                        <span class="chat-time">&nbsp;</span>
                      </div>
                    </a>
                    <a
                      href="#"
                      class="load-more-messages"
                      data-bs-toggle="tooltip"
                      data-placement="bottom"
                      title="Load More"
                    >&bull;&bull;&bull;</a>
                  </div>
                </div>
                <div class="tab-pane" id="settings">
                  <div class="right-sidebar-settings">
                    <span class="settings-title">General Settings</span>
                    <ul class="sidebar-setting-list list-unstyled">
                      <li>
                        <span class="settings-option">Notifications</span>
                        <input type="checkbox" class="js-switch" checked />
                      </li>
                      <li>
                        <span class="settings-option">Activity log</span>
                        <input type="checkbox" class="js-switch" checked />
                      </li>
                      <li>
                        <span class="settings-option">Automatic updates</span>
                        <input type="checkbox" class="js-switch" />
                      </li>
                      <li>
                        <span class="settings-option">Allow backups</span>
                        <input type="checkbox" class="js-switch" />
                      </li>
                    </ul>
                    <span class="settings-title">Account Settings</span>
                    <ul class="sidebar-setting-list list-unstyled">
                      <li>
                        <span class="settings-option">Chat</span>
                        <input type="checkbox" class="js-switch" checked />
                      </li>
                      <li>
                        <span class="settings-option">Incognito mode</span>
                        <input type="checkbox" class="js-switch" />
                      </li>
                      <li>
                        <span class="settings-option">Public profile</span>
                        <input type="checkbox" class="js-switch" />
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- PAGE CHAT RIGHT SIDEBAR
            ================================================== -->
        <div class="page-right-sidebar" id="chat-right-sidebar">
          <div class="page-right-sidebar-inner">
            <div class="right-sidebar-top">
              <div class="chat-top-info">
                <span class="chat-name">Noah</span>
                <span class="chat-state">2h ago</span>
              </div>
              <a
                href="#"
                class="right-sidebar-toggle chat-sidebar-close float-end"
                data-sidebar-id="chat-right-sidebar"
              ><i class="icon-keyboard_arrow_right"></i></a>
            </div>
            <div class="right-sidebar-content">
              <div class="right-sidebar-chat slimscroll">
                <div class="chat-bubbles">
                  <div class="chat-start-date">02/03/2019 5:58PM</div>
                  <div class="chat-bubble them">
                    <div class="chat-bubble-img-container">
                      <img src="img/avatars/chat06.jpg" alt="..." />
                    </div>
                    <div class="chat-bubble-text-container">
                      <span class="chat-bubble-text">Hello</span>
                    </div>
                  </div>
                  <div class="chat-bubble me">
                    <div class="chat-bubble-text-container">
                      <span class="chat-bubble-text">Hello!</span>
                    </div>
                  </div>
                  <div class="chat-start-date">03/02/2019 5:18AM</div>
                  <div class="chat-bubble me">
                    <div class="chat-bubble-text-container">
                      <span class="chat-bubble-text">lorem</span>
                    </div>
                  </div>
                  <div class="chat-bubble them">
                    <div class="chat-bubble-img-container">
                      <img src="img/avatars/chat07.jpg" alt="..." />
                    </div>
                    <div class="chat-bubble-text-container">
                      <span class="chat-bubble-text">ipsum dolor sit amet</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="chat-write">
                <form class="form-horizontal" action="#">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Say something"
                  />
                </form>
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>

    <!-- BUY TEMPLATE
    ================================================== -->
    <div
                                  class="modal fade"
                                  id="exampleModal"
                                  tabindex="-1"
                                  aria-labelledby="exampleModalLabel"
                                  aria-hidden="true"
                                >
                                  <div class="modal-dialog">
                                    <div class="modal-content">
                                      <form id="statusupdater">
                                        <div class="modal-header bg-secondary">
                                          <h5
                                            class="modal-title text-white"
                                            id="exampleModalLabel"
                                          >UPDATE ORDER DETAILS</h5>
                                          <button
                                            type="button"
                                            class="btn-close"
                                            data-bs-dismiss="modal"
                                            aria-label="Close"
                                          ></button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="mb-4 mt-4">
                                                <h6>
                                                    Order status <i class="fa-solid fa-briefcase text-primary"></i>
                                                </h6>
                                            </div>
                                            <div class="mb-4">
                                            <select
                                            class="form-select"
                                            aria-label="Default select example"
                                            name="orderstatus"
                                            id="orderstatusmodal"
                                          >
                                            <option id="choosedorderstatus" value=""></option>
                                            <option
                                              value="Processing"
                                            >Processing</option>
                                            <option
                                              value="Shipped"
                                            >Shipping</option>
                                            <option
                                              value="Delivered"
                                            >Delivered</option>
                                            <option
                                              value="Canceled"
                                            >Canceled</option>
                                            <option
                                              value="Returned"
                                            >Returned</option>
                                            </select>
                                            </div>
                                            <hr>
                                            <div class="mb-4">
                                                <div class="mb-4 mt-4">
                                                     <h6>
                                                       Payment status <i class="fa-solid fa-sack-dollar text-warning" ></i>
                                                    </h6>
                                                </div>
                                                <select
                                            class="form-select"
                                            aria-label="Default select example"
                                            name="paymentstatus"
                                            id="paymentstatusmodal"
                                          >
                                            <option value="" id="choosedpaymentstatus" ></option>
                                            <option
                                              value="COMPLETED"
                                            >COMPLETED</option>
                                            <option
                                              value="REFUND"
                                            >REFUND</option>
                                          </select>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                          <button
                                            type="submit"
                                            class="btn btn-primary"
                                            data-bs-dismiss="modal"
                                          >Submit</button>
                                        </div>
                                      </form>
                                    </div>
                                  </div>
                                </div>
    <!-- SCROLL TO TOP
    ================================================== -->
    <a href="#" class="scroll-to-top"><i
        class="fas fa-angle-up"
        aria-hidden="true"
      ></i></a>

    <!-- ALL JS INCLUDE
    ================================================== -->
    <script
      src="https://kit.fontawesome.com/07fcc2468d.js"
      crossorigin="anonymous"
    ></script>

    <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/2.0.1/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/2.0.1/js/buttons.html5.min.js"></script>

    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.3/axios.min.js"></script>
    <script>

      async function statusfinder (id,orderstatus,paymentstatus){

        console.log(id,orderstatus,paymentstatus,' aarguement........')

        document.getElementById('choosedorderstatus').value = orderstatus
        document.getElementById('choosedorderstatus').innerHTML = orderstatus
        document.getElementById('choosedpaymentstatus').value = paymentstatus
        document.getElementById('choosedpaymentstatus').innerHTML = paymentstatus

            document.getElementById(`statusupdater`).addEventListener('submit',(e) => {
                e.preventDefault();
                const form = document.getElementById(`statusupdater`)
                const formData = new FormData(form)
                const data = Object.fromEntries(formData)
                axios.patch('/admin/order?id='+id,data).then((response)=>{
                console.log(response.data,'data from axios response')

                if(response.data.updated){
                    const Toast = Swal.mixin({
                      toast: true,
                      position: 'center-right',
                      iconColor: 'white',
                      customClass: {
                        popup: 'colored-toast'
                      },
                      showConfirmButton: false,
                      timer: 500,
                      timerProgressBar: true
                    })
                     Toast.fire({
                        icon: 'success',
                        title: 'Order updated '
                        
                      }).then((re)=>{
                        location.href = '/admin/orders'
                      })
                   }
                
                 })
              })
      }

    </script>

    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>


    <script>

        function  logoutAdmin (){
               swal({
                title: "Are you sure?",
                text: "You want exit !",
                icon: "warning",
                buttons: true,
                dangerMode: true,
              }).then((willDelete) => {
                console.log('exit confirmed')
                if (willDelete) {
                location.href = '/admin/logout'
                }
              })
        }

    </script>

    <!-- jQuery -->
    {{!-- <script src="/pluginsNA/jquery/jquery.min.js"></script> --}}

    <!-- popper -->
    <script src="/pluginsNA/popper/js/popper.min.js"></script>

    <!-- bootstrap -->
    <script src="/pluginsNA/bootstrap/js/bootstrap.min.js"></script>

    <!-- slimscroll -->
    <script
      src="/pluginsNA/jquery-slimscroll/jquery.slimscroll.min.js"
    ></script>

    <!-- uniform -->
    <script src="/pluginsNA/uniform/js/jquery.uniform.standalone.js"></script>

    <!-- switchery -->
    <script src="/pluginsNA/switchery/switchery.min.js"></script>

    <!-- theme core scripts -->
    <script src="/jsNA/main.js"></script>

    <!-- all js include end -->
    <script >

       $(document).ready(function() {
            $('#example').DataTable({
            });
        });
        
      function searchstatus (searchType){

        let inpData ;
        let type ;

        if(searchType == 'status'){
           inpData = document.getElementById('searchdata').value
           type = 'status'
        }else if(searchType == 'days'){
          inpData = document.getElementById('searchbydays').value
          type = 'days'
        }else if(searchType == 'name'){
          inpData = document.getElementById('exampleInputEmail1').value
          type = 'name'
        }
        event.preventDefault();
        
        axios.get(`/admin/search-orders?id=${inpData}&type=${type}`).then((res)=>{
          console.log(res.data,'resp data......')

          const ordersList = res.data;

          console.log(ordersList,'orderList')

          let tr = `` ;

        for(let i = 0 ; i < ordersList.length ; i++){

            let badgecolor = '';
            let buttoncolor = '';
            let paymentType = '';

          if(ordersList[i].paymentDetails.status == "COMPLETED" ){

              badgecolor = 'green'

          }else if(ordersList[i].paymentDetails.status == "REFUND"){

              badgecolor = 'pink'
          
          }else if(ordersList[i].paymentDetails.status == "PENDING"){

              badgecolor = 'orange'
          }


          if(ordersList[i].paymentMethod == "onlinepayment" ){
            
              paymentType = `<i class="fab fa-cc-mastercard me-1 text-primary"></i>&nbsp;&nbsp;Paypal`

          }else{

             paymentType = `<i class="fa-solid fa-sack-dollar text-warning"></i>&nbsp;&nbsp;COD`

          }
          

          if(ordersList[i].status == "Confirmed"){

              buttoncolor = 'info'

          }else if(ordersList[i].status == "Processing"){

              buttoncolor = 'primary'

          
          }else if(ordersList[i].status == "Shipped"){

              buttoncolor = 'warning'

          
          }else if(ordersList[i].status == "Delivered"){

              buttoncolor = 'success'

          
          }else if(ordersList[i].status == "Canceled"){

              buttoncolor = 'danger'

          
          }else if(ordersList[i].status == "Returned"){

              buttoncolor = 'secondary'
          } 

            tr += `<tr>
                           <td><a href="#">${ordersList[i].orderID}</a> </td>
                              <td>${ordersList[i].user.name}</td>
                              <td>
                                 ${ordersList[i].date}
                              </td>
                              <td>
                                $${ordersList[i].total}
                              </td>
                              <td id="paymentediter${ordersList[i]._id}">
                                 
                                  <span
                                    class="badge rounded-pill bg-soft-${badgecolor}"
                                  >${ordersList[i].paymentDetails.status}</span>
                              
                              </td>
                              <td>
                                 ${paymentType}
                              </td>
                              <td >

                                <!-- Button trigger modal -->
                                <div id="statusediter${ordersList[i]._id}">
                                  <button
                                    type="button"
                                    class="btn btn-outline-${buttoncolor} btn-rounded"
                                    data-bs-toggle="modal"
                                    data-bs-target="#exampleModal"
                                    onclick="statusfinder('${ordersList[i]._id}','${ordersList[i].status}')"
                                  >
                                    ${ordersList[i].status}&nbsp&nbsp;<i class="fa-solid fa-angle-down"></i>
                                  </button>
                                <!-- Modal -->
                                </div>
                                <div
                                  class="modal fade"
                                  id="exampleModal"
                                  tabindex="-1"
                                  aria-labelledby="exampleModalLabel"
                                  aria-hidden="true"
                                >
                                  <div class="modal-dialog">
                                    <div class="modal-content">
                                      <form id="statusupdater">
                                        <div class="modal-header bg-secondary">
                                          <h5
                                            class="modal-title text-white"
                                            id="exampleModalLabel"
                                          >UPDATE ORDER DETAILS</h5>
                                          <button
                                            type="button"
                                            class="btn-close"
                                            data-bs-dismiss="modal"
                                            aria-label="Close"
                                          ></button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="mb-4 mt-4">
                                                <h6>
                                                    Order status <i class="fa-solid fa-briefcase text-primary"></i>
                                                </h6>
                                            </div>
                                            <div class="mb-4">
                                            <select
                                            class="form-select"
                                            aria-label="Default select example"
                                            name="orderstatus"
                                          >
                                            <option value="${ordersList[i].status}">${ordersList[i].status}</option>
                                            <option
                                              value="Processing"
                                            >Processing</option>
                                            <option
                                              value="Shipped"
                                            >Shipping</option>
                                            <option
                                              value="Delivered"
                                            >Delivered</option>
                                            <option
                                              value="Canceled"
                                            >Canceled</option>
                                            <option
                                              value="Returned"
                                            >Returned</option>
                                            </select>
                                            </div>
                                            <hr>
                                            <div class="mb-4">
                                                <div class="mb-4 mt-4">
                                                     <h6>
                                                       Payment status <i class="fa-solid fa-sack-dollar text-warning" ></i>
                                                    </h6>
                                                </div>
                                                <select
                                            class="form-select"
                                            aria-label="Default select example"
                                            name="paymentstatus"
                                          >
                                            <option value="${ordersList[i].paymentDetails.status}" >${ordersList[i].paymentDetails.status}</option>
                                            <option
                                              value="COMPLETED"
                                            >COMPLETED</option>
                                            <option
                                              value="REFUND"
                                            >REFUND</option>
                                          </select>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                          <button
                                            type="submit"
                                            class="btn btn-primary"
                                            data-bs-dismiss="modal"
                                          >Submit</button>
                                        </div>
                                      </form>
                                    </div>
                                  </div>
                                </div>
                              </td>
                              <td>
                                <a
                                  href="/admin/order?id=${ordersList[i]._id}"
                                  class="me-3 text-info"
                                >View details<i
                                    class="far fa-edit text-white"
                                  ></i></a>
                              </td>
                            </tr>`
          }

          document.getElementById('searchOrdersList').innerHTML = tr

        })
      }

    </script>
  </body>

  <!-- Mirrored from smartshop.websitelayout.net/admin/orders.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 03 Jan 2023 16:01:00 GMT -->
</html>