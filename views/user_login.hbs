<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>smartshop</title>
    <script src="/verifyUser/createAccount.js"></script>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:400,700"
    />
    <!-- https://fonts.google.com/specimen/Open+Sans -->
    <link rel="stylesheet" href="/css/fontawesome.min.css" />
    <!-- https://fontawesome.com/ -->
    {{!-- <link rel="stylesheet" href="css/bootstrap.min.css" /> --}}
    <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="/css/templatemo-style.css">
    <!--
	Product Admin CSS Template
	https://templatemo.com/tm-524-product-admin
	-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="/jsNA/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </head>


  <body>


    <div class="container tm-mt-big tm-mb-big">
      <div class="row">
        <div class="col-12 col-md-9 col-lg-5 mx-auto tm-login-col">
          <div class="tm-bg-primary tm-block tm-block-h-auto" style="border-radius:1rem ;background-color: #c2c2c26e;" >
            <div class="row">
              <div class="col-12 ">
                <h1 class="mb-4 text-center">Login</h1><hr>
                  <div style="height: 50px;">
                    <h5
                    class="alert text-start"
                    role="alert"
                    id="incorrectpasswordP"
                    style="position: absolute; height: 50px; ;width: 100%;color:red;padding:0rem ! important;margin-top: 1rem; "
                    >
                    </h5>
                  </div>
            <div class="row mt-2">
              <div class="col-12">
                <form id="loginform" class="tm-login-form" >
                  <div class="form-group">
                    <h6 for="username" class="">Enter Mobile Number</h6>
                    <input
                      name="userlogid"
                      type="number"
                      class="form-control "
                      id="username"
                    
                    />
                  </div>
                  <div class="form-group mt-3">
                    <h6 for="password">Password</h6>
                    <input
                      name="userlogpassword"
                      type="password"
                      class="form-control"
                      id="password"
                     
                    />
                  </div>
                  <div class="form-group mt-4 mb-2">
                    <button
                      type="submit"
                      class="btn btn-block text-white mt-2 mb-4"
                      style="border-radius:2rem ;font-weight: 700;letter-spacing:3px;line-height: 2rem;background-color: #111340; "
                      
                    >
                      Login
                    </button>
                  </div>
                  <div class=" d-flex justify-content-center ">
                  <a href="" class="btn text-danger" onclick="forgotPassword()">Forgot password?</a> 
                   </div> 
                   <div class="form-group mt-2 d-flex justify-content-center ">
                  <a href=""  class="btn" data-toggle="modal" data-target="#exampleModalCenter" data-backdrop="static" data-keyboard="false">
                    Create new account ?
                  </a>
                   </div>   
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.3/axios.min.js"></script>
    <script> 
          const loginForm = document.getElementById('loginform')
          loginForm.addEventListener('submit',(e)=>{
            e.preventDefault();
            console.log('function for login verify')
            const form = document.getElementById('loginform');
            const formData = new FormData(form)
            const data = Object.fromEntries(formData)
            axios.post('/user/login-verify',data).then((response)=>{
              console.log(response.data.message,'message')
              if(response.data.message == "user logged"){
                console.log('verified')
                location.href = '/'
              }else{
                 document.getElementById('incorrectpasswordP').style.display ='block'
                 document.getElementById('incorrectpasswordP').innerHTML = response.data.message
                 setTimeout(() => {
                 document.getElementById('incorrectpasswordP').style.display ='none' ;},3000); 
              }
            })
          })
                     
    </script>

    
    <!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog modal-dialog-scrollable" role="document">
    <div class="modal-content" id="modalToverifyUser" >
      
                <div class="modal-header d-flex justify-content-center" style="background-color: #111340;">
            <h5 class="modal-title text-white" id="exampleModalLongTitle">Verify mobile</h5>
                 <div class="d-flex justify-content-end" style="background-color: #111340;">
                      <button type="button" onclick="closeModalbutton()" class="close text-white" data-dismiss="modal" aria-label="Close" >
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    </div>
              <div class="modal-body pt-5" style="padding-left:3rem;padding-right:3rem;padding-bottom:3rem;background-color: #c2c2c26e;">
              <form id="mobileform">
          <!-- Email input -->
              <div class="form-outline mb-2">
                <h6  class="form-label pt-2 pb-1" for="form2Example1" style="font-size: 1.5rem !important;">Enter mobile</h6>
                <input type="number" id="form2Example1" class="form-control"  name="newusermobile" placeholder="Enter mobile number"/> 
                <h5 class="form-label text-danger pt-2" style="font-size: 1.5rem !important;" for="form2Example1" id="validationmobile">&nbsp;&nbsp;&nbsp;</h5>
              </div>
              <div class="form-group mt-4 mb-2">
                   <button id="mobilebutton" onclick="mobileVerification('create')" type="button" class="btn btn-block text-white mt-2 mb-4" style="border-radius:2rem ;font-weight: 700;letter-spacing:3px;line-height: 2rem;background-color: #111340; ">  Send OTP  </button>
              </div> 
          <!-- Register buttons -->
            </form>
              </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
